@model MEF.PROYECTO.Entity.Coordinador.Cls_Ent_Solicitud
@{
    ViewBag.Title = "NuevoEditaSolicitud";
}

@using (Html.BeginForm("Solicitud", "NuevoEditaSolicitud", new { @area = "Coordinador" }, FormMethod.Post, new { @id = "frmNuevaSolicitud", @class = "form-horizontal", @Role = "dialog" }))
{
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-danger">
                <h5 class="modal-title">
                    @if (Model.ID_SOLICITUD == 0)
                    {
                        <label>Nueva Solicitud </label>
                    }
                    else
                    {
                        <label>Actualizar Solicitud</label>
                    }
                </h5>
                <button type="button" class="close" onclick="fn_CerrarEditarSolicitud()">
                    <span aria-hidden="true" style="color:white">×</span>
                </button>
            </div>
            <div class="modal-body">
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    1.	ENTIDAD
                </label>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>Entidad:<b style="color:red">*</b></label>
                            @Html.DropDownList("DcboEntidades", new SelectList(ViewBag.DcboEntidades, "ID_ENTIDAD", "DESC_UNIDAD"), new { @id = "DcboEntidades", @class = "form-control", @name = "DcboEntidades" })
                        </div>
                    </div>
                </div>
                @if (Model.ID == "0")
                {
                    <div class="row">
                        <div class="col-sm-12">
                            <div class="form-group mb-1">
                                <label>Organo :<b style="color:red">*</b></label>
                                @Html.TextBoxFor(model => model.DESC_ORGANO, new { @class = "form-control", @maxlength = "500" })
                            </div>
                        </div>
                    </div>
                }
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>Dependencia o Unidad Orgánica donde prestará sus servicios:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.DEPENDENCIA, new { @class = "form-control", @maxlength = "500" })
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>Adjuntar Documento de requerimiento, proyecto de TDR, Otros (CV resumen):<b style="color:red">( máximo 2mb )*</b></label>
                        </div>
                        @if (Model.FLG_VERSION == "1")
                        {
                            if (Model.ID_SOLICITUD != 0)
                            {

                                <div class="col-sm-6" id="DivMuestraAr">
                                    <a title='Descargar archivo' onclick='fn_DescargarArchivo(@Model.ARCHIVO_PUESTO_SUS_SOLICITUD);' style="font-size: 20px; color:#0093F8; font-weight: bold; cursor: pointer"><i class="fas fa-download"></i> <small style="font-size:13px;font-weight:bold">Descargar archivo</small></a>
                                    <a title='Eliminar archivo' onclick='fn_EliminarArchivoSus();' style="font-size: 20px; color: #e30613; font-weight: bold; cursor: pointer"><i class="fas fa-times-circle"></i> <small style="font-size:13px;font-weight:bold">Eliminar archivo</small></a>

                                </div>
                                <div class="col-sm-6" id="DivAdjuntarar" style="display:none">
                                    <div class="control">
                                        <input class="file" name="FileArchivo" id="FileArchivo" type="file" />
                                        <label for="FileArchivo"><span>Seleccionar Archivo</span><br /><span id="archivo_adjuntado">0 Archivos</span></label>
                                    </div>
                                    <small id="LblfileArchivo" style="color:red;font-weight:600"></small>
                                </div>
                            }
                            else
                            {
                                <div class="col-sm-6">
                                    <div class="control">
                                        <input class="file" name="FileArchivo" id="FileArchivo" type="file" />
                                        <label for="FileArchivo"><span>Seleccionar Archivo</span><br /><span id="archivo_adjuntado">0 Archivos</span></label>
                                    </div>
                                    <small id="LblfileArchivo" style="color:red;font-weight:600"></small>

                                </div>
                            }

                        }
                        else
                        {
                            <div class="row">
                                <div class="col-sm-6">
                                    <div class="form-group mb-1">
                                        <label>Archivo:</label>
                                    </div>
                                    <div class="control">
                                        <input class="file" name="FileArchivoSust" id="FileArchivoSust" type="file" />
                                        <label for="FileArchivoSust"><span>Seleccionar Archivo</span><br /><span id="archivo_sust">0 Archivos</span></label>
                                    </div>
                                    <small id="LblfileArchivoSust" style="color:red;font-weight:600"></small>
                                </div>
                                <div class="col-sm-6">
                                    <div class="form-group mb-1">
                                        <label>Descripción de archivo:</label>
                                    </div>
                                    <div class="input-group mb-1">
                                        <textarea id="txtDesArchivo" name="txtDesArchivo" class="form-control" placeholder="EJEM. PROYECTO DE TDR" rows="2" cols="2"></textarea>
                                        <div class="input-group-prepend">
                                            <div class="btn-group">
                                                <button id="btnAgregarArchivo" type="button" class="btn btn-danger" onclick="fn_Aregar_Archivo()"><i class="fas fa-file-medical"></i></button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="table-responsive">
                                    <table id="Tabla_Documento" class="table table-bordered table-striped dataTable">
                                        <thead>
                                            <tr style='background-color:#FCE4D6;'>
                                                <th style="width:1%">Nro</th>
                                                <th style="width:10%">Eliminar</th>
                                                <th style="width:10%">Archivo</th>
                                                <th style="width:60%">Descripción de archivo</th>
                                            </tr>
                                        </thead>
                                        <tbody id="gridBody"></tbody>
                                    </table>
                                </div>
                            </div>
                        }
                    </div>
                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    3. REQUISITOS ADICIONALES: (DE ACUERDO AL DOCUMENTO DE GESTIÓN)
                </label>
                <div class="row">
                    <div class="col-sm-12">
                        <label style="font-weight:bold">Formación académica:</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtFormacion" name="txtFormacion" class="form-control" placeholder="EJEM. GRADO DE BACHILLER UNIVERSITARIO EN ECONOMÍA, INGENIERÍA ECONÓMICA, INGENIERÍA ADMINISTRATIVA">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarFormacion" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Formacion()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_formacion" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-12">
                        <label style="font-weight:bold">Cursos y/o Programas de Especialización:</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtCurso" name="txtCurso" class="form-control" placeholder="ESTUDIOS DE IGUAL O MAYOR A 90 HORAS LECTIVAS EN LOS ÚLTIMOS 10 AÑOS">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarCurso" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Curso()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_curso" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                    <div class="col-sm-12">
                        <label style="font-weight:bold">Conocimientos:</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtConocimientos" name="txtConocimientos" class="form-control" placeholder="CONOCIMIENTO EN GESTIÓN PÚBLICA, PRESUPUESTO PÚBLICO, ETC. (ESTUDIOS MENOR A 90 HORAS LECTIVAS EN LOS ÚLTIMOS 05 AÑOS">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarConocimientos" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Conocimientos()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_conocimientos" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>

                    <div class="col-sm-12">
                        <label style="font-weight:bold">Experiencia:</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtExperiencia" name="txtExperiencia" class="form-control" placeholder="EJEM. 1 AÑO EN EL SECTOR PÚBLICO EN EL PUESTO, FUNCIÓN O MATERIA">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarExperiencia" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Experiencia()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_experiencia" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    4.	DESCRIPCIÓN DEL SERVICIO:
                </label>
                <div class="row">
                    <div class="col-12">
                        <label style="font-weight:bold">Descripción del servicio:</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtDescServicio" name="txtDescServicio" class="form-control" placeholder="EJEM. BRINDAR ASESORÍA JURÍDICA A LAS ENTIDADES DE LA ADMINISTRACIÓN PUBLICA">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarServicio" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Funcionalidad()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_funcionalidad" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <label style="font-weight:bold">Actividades a realizar (desarrollar) :</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtDescActividad" name="txtDescActividad" class="form-control" placeholder="EJEM. EMITIR OPINIONES JURÍDICAS A LAS SOLICITUDES DE LAS ENTIDADES">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarActividad" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Actividad()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_actividad" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row">
                    <div class="col-12">
                        <label style="font-weight:bold">Otros que solicite al Funcionario a quien reporta (desarrollar):</label>
                        <div class="input-group mb-1">
                            <input type="text" id="txtDescOtro" name="txtDescOtro" class="form-control" placeholder="EJEM. REALIZAR INFORMES DE PRESUPUESTOS PÚBLICOS.">
                            <div class="input-group-prepend">
                                <div class="btn-group">
                                    <button id="btnAgregarOtro" type="button" class="btn btn-outline-danger" onclick="fn_Aregar_Otro()"><i class="fas fa-user-plus"></i></button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-12">
                        <table id="tabla_Otro" class="table table-bordered table-condensed tabla small">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th>Nro</th>
                                    <th style="width:90%">Descripción:</th>
                                    <th>Acciones</th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    5.	CARGO:
                </label>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>Seleccione el cargo:<b style="color:red">*</b></label>
                            @Html.DropDownList("DcboPuestos", new SelectList(ViewBag.DcboPuestos, "ID_PUESTO", "DES_PUESTO"), new { @id = "DcboPuestos", @class = "form-control", @name = "DcboPuestos" })

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                            6.	VIGENCIA DEL CONTRATO
                        </label>
                        <label>Periodo:<b style="color:red">*</b></label>
                        <div class="row">
                            <div class="col-6">
                                @if (Model.ID_SOLICITUD > 0)
                                {
                                    <input type="text" class="form-control datetimepicker-input" id="FechaInicial" name="FechaInicial" data-toggle="datetimepicker" data-target="#FechaInicial" placeholder="Fecha inicial" value=@Model.FECHA_INICIO />
                                }
                                else
                                {
                                    <input type="text" class="form-control datetimepicker-input" id="FechaInicial" name="FechaInicial" data-toggle="datetimepicker" data-target="#FechaInicial" placeholder="Fecha inicial" />
                                }
                            </div>
                            <div class="col-6">
                                @if (Model.ID_SOLICITUD > 0)
                                {
                                    <input type="text" class="form-control datetimepicker-input" id="FechaFin" name="FechaFin" data-toggle="datetimepicker" data-target="#FechaFin" placeholder="Fecha final" value=@Model.FECHA_FIN /> }
                                else
                                {
                                    <input type="text" class="form-control datetimepicker-input" id="FechaFin" name="FechaFin" data-toggle="datetimepicker" data-target="#FechaFin" placeholder="Fecha inicial" />
                                }
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                            7.	PROPUESTA DE HONORARIOS MENSUALES:
                        </label>
                        <div class="row">
                            <div class="col-6">
                                <label>Honorarios :<b style="color:red">*</b></label>                                <div class="input-group mb-1">
                                    @Html.TextBoxFor(model => model.MONTO_MENSUAL, new { @class = "form-control", @maxlength = "10", @onkeypress = "DESARROLLO.SOLONUMEROS(event);", @onchange = "fn_ValidMontoPermitido()" })
                                    <div class="input-group-prepend">
                                        <div class="btn-group">
                                            <button id="btnGerarPagos" type="button" class="btn btn-outline-danger" onclick="fn_GenerarPeriodoRenumeracion()" title="Generar periodos de pago"><i class="fas fa-diagnoses"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="col-6">
                                <div class="form-group mb-1">
                                    <label>Permitido Hasta :</label>
                                    <input type="text" class="form-control" id="txtMontoFijo" name="txtMontoFijo" onkeypress="DESARROLLO.SOLONUMEROS(event);" readonly />
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="col-sm-12" style="display:flex;justify-content:center">
                        <table id="TablaMeses" class="table table-bordered table-condensed tabla small" style="width:50%">
                            <thead class="cabecera" style="background: #0097d9;color:white">
                                <tr>
                                    <th style="width:1%">Año</th>
                                    <th style="width:1%">N. Mes</th>
                                    @*<th style="width:3%">Días</th>*@
                                    <th style="width:3%">Mes</th>
                                    <th style="width:3%">
                                        Honorario Mensual
                                    </th>

                                </tr>
                            </thead>
                            <tbody>
                            </tbody>
                        </table>
                    </div>
                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    8.	CONFORMIDAD DEL SERVICIO
                </label>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>La conformidad y reporte del servicio será efectuada por (cargo del Funcionario que otorga la conformidad del servicio):<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.CONFORMIDAD_SERVICIO, new { @class = "form-control", @maxlength = "300" })
                        </div>
                    </div>
                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    9.	DATOS PARA LA CERTIFICACIÓN
                </label>
                <div class="row">
                    <div class="col-sm-12">
                        <div class="form-group mb-1">
                            <label>Jefe de la Oficina General de Administración de la Entidad o quien haga sus veces en la Entidad:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.OFICINA_CERTIFICA, new { @class = "form-control", @maxlength = "500", @onkeyup = "VALIDARTEXTMAYUSCULA(this);" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group mb-1">
                            <label>Apellidos Nombres:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.APE_NOMB_CERTIFICA, new { @class = "form-control", @maxlength = "500", @onkeyup = "VALIDARTEXTMAYUSCULA(this);" })
                        </div>
                    </div>

                </div>
                <label style="background: #d6d8d9; border-color: #c6c8ca;width:100%;padding:5px 10px ">
                    10.	DATOS DEL PROFESIONAL
                </label>
                <div class="row">
                    <div class="col-sm-4">
                        <div class="custom-control custom-checkbox" style="padding-bottom:20px">
                            <input class="custom-control-input custom-control-input-danger" type="checkbox" id="FLG_CHECK_DESIGNADO" @(Model.FLG_DESIGNADO == "1" ? "checked='checked'" : "")>
                            <label for="FLG_CHECK_DESIGNADO" class="custom-control-label">Personal designado</label>
                        </div>
                    </div>
                    <div class="col-sm-4 DESG">
                        <label>Nr. de resolución:<b style="color:red">*</b></label>
                        <div class="input-group mb-1">
                            @Html.TextBoxFor(model => model.NR_RESOLUCION, new { @class = "form-control", @maxlength = "50" })
                        </div>
                    </div>
                    <div class="col-sm-4 DESG">
                        <label>Fecha de publicación de asignación:<b style="color:red">*</b></label>
                        <div class="input-group mb-1">

                            @if (Model.ID_SOLICITUD > 0)
                            {
                                <input type="text" class="form-control datetimepicker-input" id="FechaAsignacion" name="FechaAsignacion" data-toggle="datetimepicker" data-target="#FechaAsignacion" value=@Model.FECHA_RESOLUCION />
                            }
                            else
                            {
                                <input type="text" class="form-control datetimepicker-input" id="FechaAsignacion" name="FechaAsignacion" data-toggle="datetimepicker" data-target="#FechaAsignacion" />
                            }

                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <label>DNI / CE, de Profesional propuesto:<b style="color:red">*</b></label>
                        <div class="input-group mb-1">

                            @Html.TextBoxFor(model => model.NUM_DOCUMENTO_CONSULTOR, new { @class = "form-control", @maxlength = "12" })
                            <div class="input-group-prepend">
                                <button onclick="Fun_ValidarPersonaDni()" type="button" class="btn btn-danger"><i class="fas fa-search"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group mb-1">
                            <label>Apellido Paterno:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.APELLIDO_PAT_CONSULTOR, new { @class = "form-control", @maxlength = "200", disabled = "disabled" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group mb-1">
                            <label>Apellido Materno:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.APELLIDO_MAT_CONSULTOR, new { @class = "form-control", @maxlength = "200", disabled = "disabled" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group mb-1">
                            <label>Nombres:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.NOMBRES_CONSULTOR, new { @class = "form-control", @maxlength = "200", disabled = "disabled" })
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group mb-1">
                            <label>Correo:<b style="color:red">*</b></label>
                            @Html.TextBoxFor(model => model.CORREO_CONSULTOR, new { @class = "form-control", @maxlength = "200" })
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer justify-content-between">
                <p class="text-danger mr-auto">(*) Datos Obligatorios</p>
                <button id="btnGrabarSolicitud" class="btn btn-danger" type="button"><i class="clip-checkmark-circle"></i><b id="lbGrabarExpediente">Grabar</b></button>
                <button class="btn btn-dark" type="button" onclick="fn_CerrarEditarSolicitud()">Cancelar</button>
            </div>
        </div>

    </div>
    @Html.HiddenFor(m => m.ID_SOLICITUD)
    @Html.HiddenFor(m => m.FLG_PROCESO)
    @Html.HiddenFor(m => m.ID_PUESTO)
    @Html.HiddenFor(m => m.FLG_DESIGNADO)
    @Html.HiddenFor(m => m.ID)
    @Html.HiddenFor(m => m.FLG_VERSION)
    <input type="hidden" id="inputVerificaDelete" value="0" />
    <div class="modal" id="myModalCargando" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 1051; padding-top: 300px; background-color: rgba(1,1,1,0.2);">
        <div class="d-flex justify-content-center">
            <div class="spinner-border text-danger" style="width: 3.5rem; height: 3.5rem;" role="status">
                <span class="sr-only">Loading...</span>
            </div>
        </div>
        <label style="font-weight:600;color:white;width:100%;text-align:center;font-size:1.2rem">Cargando..</label>
    </div>
}
<script src="@Url.Content("~/Scripts/js/Coordinador/Pac.js")" type="text/javascript"></script>
<script type="text/javascript">

    $(function () {
        $('#FechaInicial,#FechaFin,#FechaAsignacion').datetimepicker({
            format: 'DD/MM/YYYY',
            locale: 'es'
        });
        Validar_Designado();
        if ($("#ID_SOLICITUD").val() > 0) {
            $("#DcboPuestos").val($("#ID_PUESTO").val());
            fn_ValidDetalleMonto($("#ID_PUESTO").val());
            var tbl_lista_servicio = @Html.Raw(@ViewBag.ListaServicio);
            if (tbl_lista_servicio != undefined && tbl_lista_servicio != null) {
                var cantidad = 0;
                $.each(tbl_lista_servicio, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_funcionalidad tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_FUNCIONES  + " </td> <td style='text-align:center'> <a onclick='eliminar_funcionalidad(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_funcionalidad tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_FUNCIONES + " </td> <td style='text-align:center'> <a onclick='eliminar_funcionalidad(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
            var tbl_lista_Academica = @Html.Raw(@ViewBag.ListaAcademica);
            if (tbl_lista_Academica != undefined && tbl_lista_Academica != null) {
                var cantidad = 0;
                $.each(tbl_lista_Academica, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_formacion tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACADEMICA + " </td> <td style='text-align:center'> <a onclick='eliminar_formacion(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_formacion tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACADEMICA + " </td> <td style='text-align:center'> <a onclick='eliminar_formacion(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
            var tbl_lista_Cursos = @Html.Raw(@ViewBag.ListaCursos);
            if (tbl_lista_Cursos != undefined && tbl_lista_Cursos != null) {
                var cantidad = 0;
                $.each(tbl_lista_Cursos, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_curso tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_CURSO_PRO + " </td> <td style='text-align:center'> <a onclick='eliminar_curso(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_curso tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_CURSO_PRO + " </td> <td style='text-align:center'> <a onclick='eliminar_curso(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
            var tbl_lista_Conocimientos = @Html.Raw(@ViewBag.ListaConocimientos);
            if (tbl_lista_Conocimientos != undefined && tbl_lista_Conocimientos != null) {
                var cantidad = 0;
                $.each(tbl_lista_Conocimientos, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_conocimientos tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_CONOCIMIENTO + " </td> <td style='text-align:center'> <a onclick='eliminar_conocimiento(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_conocimientos tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_CONOCIMIENTO + " </td> <td style='text-align:center'> <a onclick='eliminar_conocimiento(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
           var tbl_lista_Actividad = @Html.Raw(@ViewBag.ListaActividad);
            if (tbl_lista_Actividad != undefined && tbl_lista_Actividad != null) {
                var cantidad = 0;
                $.each(tbl_lista_Actividad, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_actividad tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACTIVIDAD + " </td> <td style='text-align:center'> <a onclick='eliminar_actividad(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_actividad tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACTIVIDAD + " </td> <td style='text-align:center'> <a onclick='eliminar_actividad(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
            var tbl_lista_ActividadOtro = @Html.Raw(@ViewBag.ListaActividadOtro);
            if (tbl_lista_ActividadOtro != undefined && tbl_lista_ActividadOtro != null) {
                var cantidad = 0;
                $.each(tbl_lista_ActividadOtro, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_Otro tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACT_OTRO + " </td> <td style='text-align:center'> <a onclick='eliminar_otro(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_Otro tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_ACT_OTRO + " </td> <td style='text-align:center'> <a onclick='eliminar_otro(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
            var tbl_lista_Experiencia = @Html.Raw(@ViewBag.ListaExperiencia);
            if (tbl_lista_Experiencia != undefined && tbl_lista_Experiencia != null) {
                var cantidad = 0;
                $.each(tbl_lista_Experiencia, function (key1, value1) {
                    cantidad += 1;
                    if (value1.f == "0") {
                        $("#tabla_experiencia tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_EXPERIENCIA + " </td> <td style='text-align:center'> <a onclick='eliminar_experiencia(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    } else {
                        $("#tabla_experiencia tbody").append("<tr id='" + cantidad + "'> <td style='text-align:left'>" + cantidad + "</td> <td style='text-align:left'> " + value1.DESC_EXPERIENCIA + " </td> <td style='text-align:center'> <a onclick='eliminar_experiencia(" + cantidad + ");' href='javascript:void(0)' title='Eliminar'><i class='fas fa-trash-alt' style='color:red'></i></a> </td > </tr > ");
                    }
                });
            }
          var tbl_lista_periodo = @Html.Raw(@ViewBag.ListaRenumeracion);
            if (tbl_lista_periodo != undefined && tbl_lista_periodo != null) {
                var cantidad = 0;
                var Rows = "";
                $.each(tbl_lista_periodo, function (key1, value1) {
                    cantidad += 1;

                    Rows += "<tr>"
                        + "<td>" + value1.ANIO  + "</td>"
                        + "<td>" + value1.NUM_MES  + "</td>"
                        + "<td>" + value1.DES_MES  + "</td>"
                        + "<td> <input type=\"text\" " + "disabled" + " value=" + value1.MONTO  + " /></td>"
                        + "</tr>"
                });
                var Table = $('#TablaMeses tbody');
                Table[0].innerHTML = "";
                Table[0].innerHTML = Rows;
            }

        }
        $("#frmNuevaSolicitud").on('click', '.delete_lf', function (e) {
            var registro = $(this);
            DESARROLLO.PROCESO_CONFIRM("¿Desea eliminar el archivo seleccionado.?", function (r) {
                if (r) {
                    registro.closest('tr').remove();
                }
            })
        });
        $("#frmNuevaSolicitud").on('click', '.delete_archivo', function (e) {
            var registro = $(this);
            DESARROLLO.PROCESO_CONFIRM("¿Desea eliminar el archivo seleccionado.?", function (r) {
                if (r) {
                    item = {
                        NOM_DOCUMENTO: $(e.target).attr("idNomDoc"),
                    };
                    var url = baseUrl + 'Coordinador/Solicitud/ElimiarDoc';
                    var respuesta = DESARROLLO.Ajax(url, item, false);
                    if (respuesta != null && respuesta != "") {
                        if (respuesta.success) {
                            registro.closest('tr').remove();
                            DESARROLLO.PROCESO_CORRECTO(respuesta.message);
                        } else {
                            DESARROLLO.PROCESO_ERROR(respuesta.extra);
                        }

                    }
                }
            })
        });
        $("#frmNuevaSolicitud").on('click', '.descarga_archivo', function (e) {
            DESARROLLO.DESCARGAR_DOCUMENTO_SOLICITUD($(e.target).attr("idNomDoc"));
        });
        $("#frmNuevaSolicitud").on('click', '.descarga_lf', function (e) {
            DESARROLLO.DESCARGAR_DOCUMENTO_LF($(e.target).attr("idDoc"));
        });
        if ($("#FLG_VERSION").val() == "2") {
            fn_MostrarArchivoInicial();
        }
    });

</script>