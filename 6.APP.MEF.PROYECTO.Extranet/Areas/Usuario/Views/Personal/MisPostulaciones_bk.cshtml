@{
    ViewBag.Title = "MisPostulaciones";
}
<div class="row">
    <div class="col-md-12">
        <div class="card card-danger card-outline">
            <div class="card-header">
                <h3 class="card-title" style="font-weight:bold;color:#4a4a49">PROCESOS ASIGNADOS</h3>
            </div>
            <div class="card-body">
                <div class="col-md-12">
                    <div class="card card-default">
                        <div class="card-header" style="background: #d2d3d5;color:#4b4b4d">
                            <h4 class="card-title">Buscar por:</h4>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-sm-1">
                                    <label>Año</label>
                                    <input type="text" id="txtAnio" name="txtAnio" class="form-control" placeholder="2022" onkeypress="DESARROLLO.SOLONUMEROS(event);" />
                                </div>
                                <div class="col-sm-2">
                                    <label>N° Solicitud</label>
                                    <input type="text" id="txtTdr" name="txtTdr" class="form-control" placeholder="N° SOLICITUD" onkeypress="DESARROLLO.SOLONUMEROS(event);" />
                                </div>
                                <div class="col-sm-5">
                                    <div class="form-group">
                                        <label>Entidad</label>
                                        @Html.DropDownList("DcboEntidades", new SelectList(ViewBag.DcboEntidades, "ID_ENTIDAD", "DESC_ENTIDAD"), new { @id = "DcboEntidades", @class = "form-control", @name = "DcboEntidades" })
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <label>Estado:</label>
                                    <select name="DdlEstado" id="DdlEstado" class="form-control" data-width="100%">
                                        <option value="002">PENDIENTE</option>
                                        <option value="003">FORMATOS ENVIADOS</option>
                                        <option value="004">FORMATOS OBSERVADOS</option>
                                        <option value="005">FORMATOS SUBSANADOS</option>
                                        <option value="007">CONTRATO GENERADO</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-sm-12">
                                    <button id="btnConsultarAsignado" type="button" class="btn btn-danger">Buscar</button>
                                    <button id="btnLimpiarAsignado" type="button" class="btn btn-dark" title="Limpiar Búsqueda"> Limpiar </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="callout callout-danger">
                        <h5>IMPORTANTE:</h5>
                        <ol>
                            <li>
                                Para realizar su postulación al proceso asignado se debe descargar y firmar los formatos <b><i class="far fa-file-pdf" style="color:#eb5767;font-size:18px"></i></b> de la columna <b>FORMATOS</b> y luego subirlos al sistema con el botón <b>" <i class="fas fa-user-edit" style="color:#e30613;font-size:18px"></i> Registrar información "</b> de la columna <b>ACCIONES</b>.
                            </li>
                            <li>
                                Una vez registre los archivos requeridos. Finalmente, se debe ejecutar el botón <b> " <i class="far fa-envelope" style="color:#6ABEB0;font-size:18px"></i> Enviar información "</b> de la columna <b>ACCIONES</b>.
                            </li>
                        </ol>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table id="TableProcesoAsignado" class="table table-bordered dt-responsive dataTable table-hover" style="width: 100%; white-space: nowrap;">
                        </table>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>
<div class="modal fade" id="modalPropuesta" role="dialog" data-backdrop="static" data-keyboard="false" style=" overflow: scroll;">
    <div class='seccionModal'>
    </div>
</div>
<div class="modal fade" id="modalObservacion" role="dialog" data-backdrop="static" data-keyboard="false" style=" overflow: scroll;">
    <div class='seccionModal'>
    </div>
</div>
<div class="modal fade" id="modalSolicitudPago" role="dialog" data-backdrop="static" data-keyboard="false" style=" overflow: scroll;">
    <div class='seccionModal'>
    </div>
</div>
<div class="modal fade" id="modalSolicitudDescanso" role="dialog" data-backdrop="static" data-keyboard="false" style=" overflow: scroll;">
    <div class='seccionModal'>
    </div>
</div>
<div class="modal" id="myModalCargando" data-keyboard="false" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 1051; padding-top: 300px; background-color: rgba(1,1,1,0.2);">
    <div class="d-flex justify-content-center">
        <div class="spinner-border text-danger" style="width: 3.5rem; height: 3.5rem;" role="status">
            <span class="sr-only">Loading...</span>
        </div>
    </div>
    <label style="font-weight:600;color:white;width:100%;text-align:center;font-size:1.2rem">Cargando..</label>
</div>
<script src="@Url.Content("~/Scripts/js/Personal/ProcesoAsignado.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/js/Remove.js")" type="text/javascript"></script>
<script type="text/javascript">
    $(function () {
        var date = new Date();
        $("#txtAnio").val(date.getFullYear());
        Remove_RemoverClases("liPostulaciones");
        CrearGrillaProcesoAsignacion();
        CargarGrillaProcesoAsignacion();
    });
    jQuery("#btnConsultarAsignado").click(function (e) {
        CargarGrillaProcesoAsignacion();
    });
    
</script>